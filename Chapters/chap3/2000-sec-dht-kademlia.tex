%!TEX root = ../../tcc.tex

\newpage
\section{Tabelas Hash Distribuídas e o Kademlia}

As \glsentrylongpl{dht} surgiram quando buscas em \glspl{p2p} não eram eficientes, fosse
pelos problemas da super-centralização dos sistemas, ou pela falta dela, de modo a se
criar uma maneira híbrida de buscar e localizar recursos nessas redes.

Existem duas formas de se encontrar recursos: busca e endereçamento. A primeira se
baseia no casamento de palavras-chave com as descrições dos recursos, sendo mais
amigável para o usuário, pois não necessita de mecanismos complexos de identificação.
Porém, é menos eficiente, já que necessita da conferência dos conteúdos dos recursos
para saber se são os mesmos. As \glspl*{p2p} descentralizadas utilizavam esta abordagem.

Quando uma rede tem estrutura descentralizada, ocorre o fenômeno chamado de inundação
de mensagens, no qual estas são repassadas entre \glspl*{peer} intermediários até o
\gls*{peer} de destino. Esse repasse excessivo acarreta \gls{overhead} nos \glspl*{peer}
intermediários, além de gerar mensagens falso-negativas.

A segunda forma de se encontrar recursos utiliza endereços que possam identificá-los de
forma única. Dessa maneira, um recurso é exclusivamente identificável, sendo possível
encontrá-lo eficientemente. Contudo, é necessário algum procedimento para se obter seu
nome único, além de uma estrutura organizada por endereços. Historicamente, as
\glspl*{p2p} de estrutura centralizada se baseiam neste método.

Anteriormente ao BitTorrent, nas \glspl*{p2p} de estrutura centralizada, o servidor
central tentava conhecer a situação de cada um dos \glspl*{peer} da rede, enviando
mensagens diretamente a eles. Gerenciar muitos \glspl*{peer} ao mesmo tempo
sobrecarregava o \emph{hardware} do servidor, às vezes forçando o seu desligamento.

Essas formas de organizar esses recursos através da rede utilizam as conexões entre os
diversos \glspl*{peer}, formando redes superpostas (\emph{overlay networks}), que são
redes virtuais que figuram sobre as tradicionais redes IP. Assim, as \glspl*{p2p}
necessitam de funcionalidades eficientes para que um \gls*{peer} possa entrar e sair do
\emph{overlay}, assim como armazenar recursos e encontrá-los (usando endereçamento). Tal
eficiência é conseguida através de \glspl{dht}, onde todas essas funcionalidades
dependem da troca eficiente de mensagens entre \glspl*{peer}.

\begin{figure}[H]
    \centering
    \fbox{\includegraphics[width=0.85\textwidth]{graph-dht.png}}
    \caption{comparação de overheads de redes centralizadas e descentralizadas, e a
    brecha onde a DHT se encaixa}
    %\label{fig:torrent-universo}
\end{figure}

A \gls*{dht} foi adotada pelos desenvolvedores de programas cliente BitTorrent, mas
sempre como uma funcionalidade particular, sendo utilizada por alguns anos. Tendo
comprovado seu desempenho, foi finalmente adicionada à especificação do BitTorrent no
ano de 2008 \cite{site:bittorrent-dht}.

\input{Chapters/chap3/2100-subsec-kademlia}
