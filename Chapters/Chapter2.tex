\chapter{O BitTorrent}

\subsection{A busca pelo .torrent}

\subsection{A adição do .torrent no Transmission}

adicionar .torrent:
- leitura do .torrent:
	- libtransmission/metainfo.c:368 > tr_metaInfoParseImpl()
		-387,427: lê o dicionário de dados do .torrent
		-429: calcula o hash sha1 dos dados lidos do .torrent
		-430: converte sha1 para hex
		-438-525: recupera os dados do torrent para exibição (nome, comentário, data de criação,
		privacidade, quantidade e comprimento das partes, lista de arquivos)


torrent é iniciado
- programa começa a processar peers
	- torrent.c:1601 > tr_peerMgrStartTorrent (tor);

	- ocorre um rechoke geral (forçado no início, ou por tempo durante a execução)
	peer-mgr.c:2443 > rechokePulse (0, 0, t->manager);

	- ocorrem chokes de upload e download
	peer-mgr.c:3200-3201 >  rechokeUploads (t, now);
                            rechokeDownloads (t);

	//TODO
	a) chokes de upload
	b) chokes de download